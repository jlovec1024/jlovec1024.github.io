<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="Maven: POM files without a version in it? - SoftwareEntwicklung Beratung Schulung, Jlovec"><meta name="description" content="In Maven 3.2.5 a feature has been introduced to be able to define a version of a Maven project via properties ${revision"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer"><title>Maven: POM files without a version in it? - SoftwareEntwicklung Beratung Schulung | Jlovec</title><link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/favicon.ico"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/awesome/css/all.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/css/matery.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/css/my.css"><script src="/libs/jquery/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/jquery/jquery.min.js"></script><meta name="generator" content="Hexo 5.4.2"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="Jlovec" type="application/atom+xml"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">Jlovec</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/articles" class="waves-effect waves-light"><i class="fa fa-bars" style="zoom:.6"></i> <span>文章</span> <i class="fas fa-chevron-down" aria-hidden="true" style="zoom:.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/tags"><i class="fas fa-tags" style="margin-top:-20px;zoom:.6"></i> <span>标签</span></a></li><li><a href="/categories"><i class="fas fa-bookmark" style="margin-top:-20px;zoom:.6"></i> <span>分类</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span> <i class="fas fa-chevron-down" aria-hidden="true" style="zoom:.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/archives"><i class="fa fa-tasks" style="margin-top:-20px;zoom:.6"></i> <span>简约风</span></a></li><li><a href="/timeline"><i class="fa fa-ellipsis-v" style="margin-top:-20px;zoom:.6"></i> <span>时间轴</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="/data" class="waves-effect waves-light"><i class="fa fa-list-alt" style="zoom:.6"></i> <span>统计</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">Jlovec</div><div class="logo-desc">Never really desperate, only the lost of the soul.</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa fa-bars"></i> 文章 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/tags" style="margin-left:75px" ;><i class="fa fas fa-tags" style="position:absolute;left:50px"></i> <span>标签</span></a></li><li><a href="/categories" style="margin-left:75px" ;><i class="fa fas fa-bookmark" style="position:absolute;left:50px"></i> <span>分类</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fas fa-archive"></i> 归档 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/archives" style="margin-left:75px" ;><i class="fa fa fa-tasks" style="position:absolute;left:50px"></i> <span>简约风</span></a></li><li><a href="/timeline" style="margin-left:75px" ;><i class="fa fa fa-ellipsis-v" style="position:absolute;left:50px"></i> <span>时间轴</span></a></li></ul></li><li class="m-nav-item"><a href="/data" class="waves-effect waves-light"><i class="fa-fw fa fa-list-alt"></i> 统计</a></li></ul></div></div></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/featureimages/20.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">Maven: POM files without a version in it? - SoftwareEntwicklung Beratung Schulung</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{height:calc(100vh - 250px);overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px}#toc-content .is-active-link{color:#42b983}#toc-content .is-active-link::before{background-color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:110px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><span class="chip bg-color">无标签</span></div></div><div class="col s5 right-align"></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2021-05-12</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp; 2022-05-07</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp; 969</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp; 6 分</div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><p>In Maven 3.2.5 a feature has been introduced to be able to define a version of a Maven project via properties <code>${revision}</code>, <code>${sha1}</code> and <code>${changelist}</code> which unfortuantely had some issues. Those issues have been fixed with <a target="_blank" rel="noopener" href="https://maven.apache.org/docs/3.5.0-beta-1/release-notes.html">Maven 3.5.0-beta-1</a> and now you can define the version of a project by using the following properties: <code>${revision}</code>, <code>${sha1}</code> and <code>${changelist}</code>. The example below will show one usage of this:</p><pre><code>  ..

  &lt;parent&gt;

    &lt;groupId&gt;com.soebes.smpp&lt;/groupId&gt;

    &lt;artifactId&gt;smpp&lt;/artifactId&gt;

    &lt;version&gt;2.2.1&lt;/version&gt;

  &lt;/parent&gt;



  &lt;groupId&gt;com.soebes.examples.j2ee&lt;/groupId&gt;

  &lt;artifactId&gt;parent&lt;/artifactId&gt;

  &lt;version&gt;${revision}&lt;/version&gt;

  &lt;packaging&gt;pom&lt;/packaging&gt;

  ..
</code></pre><p>For the simplicity of this example I use only <code>${revision}</code> but in practice you could combine the different properties.</p><p>The above is a parent of a larger multi module build which contains serveral childs which look like this:</p><pre><code>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;



  &lt;parent&gt;

    &lt;groupId&gt;com.soebes.examples.j2ee&lt;/groupId&gt;

    &lt;artifactId&gt;parent&lt;/artifactId&gt;

    &lt;version&gt;${revision}&lt;/version&gt;

  &lt;/parent&gt;



  &lt;artifactId&gt;service&lt;/artifactId&gt;

  &lt;dependencies&gt;

    &lt;dependency&gt;

      &lt;groupId&gt;com.soebes.examples.j2ee&lt;/groupId&gt;

      &lt;artifactId&gt;service-client&lt;/artifactId&gt;

      &lt;version&gt;${project.version}&lt;/version&gt;

    &lt;/dependency&gt;

    ...



   ..
</code></pre><p>Based on the above you can now build your project simply by using the following:</p><pre><code>mvn -Drevision=1.0.0-SNAPSHOT clean package
</code></pre><p>So there is no need to change the pom files and check them in. But there exists a drawback. You need to define the <code>-Drevision=...</code> for each call of Maven which is not very convenient.</p><p>Starting with <a target="_blank" rel="noopener" href="https://maven.apache.org/docs/3.3.1/release-notes.html#JVM_and_Command_Line_Options">Maven 3.3.1</a> you can configure Maven command line parameters in a <code>.mvn/maven.config</code> file which could contain the version definition like this:</p><pre><code>-Drevision=1.0.0-SNAPSHOT
</code></pre><p>So with Maven 3.3.1+ you can now simply call Maven via:</p><pre><code>mvn clean package
</code></pre><p>More convenient?</p><p>Hm… wait a second. What if i like to create a different version? Yes you need to change the <code>.mvn/maven.config</code> file and you should of course checkin the change into your <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Version_control">vcs</a>.</p><p>No. This is not really needed, but recommended. You can overwrite the version which is defined in the <code>.mvn/maven.config</code> via command line like this:</p><pre><code>mvn clean package -Drevision=2.0.0-SNAPSHOT
</code></pre><p>What kind of alternatives exist? You can of course define your version of your project as a property within your pom file itself.</p><pre><code>  ..

  &lt;parent&gt;

    &lt;groupId&gt;com.soebes.smpp&lt;/groupId&gt;

    &lt;artifactId&gt;smpp&lt;/artifactId&gt;

    &lt;version&gt;2.2.1&lt;/version&gt;

  &lt;/parent&gt;



  &lt;groupId&gt;com.soebes.examples.j2ee&lt;/groupId&gt;

  &lt;artifactId&gt;parent&lt;/artifactId&gt;

  &lt;version&gt;${revision}&lt;/version&gt;

  &lt;packaging&gt;pom&lt;/packaging&gt;

  ..

  &lt;properties&gt;

    ...

    &lt;revision&gt;2.5.0-SNAPSHOT&lt;/revision&gt;

  &lt;/properties&gt;
</code></pre><p>So this means you do not need to have a supplemental file in your project (like <code>.mvn/maven.config</code>) if you not already have. Also for this property means you can overwrite it via command like this:</p><pre><code>mvn clean package -Drevision=1.8.67-SNAPSHOT
</code></pre><h2 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h2><p>But now let us come to an important point of this whole story. What happens if you do an <code>deploy</code> of such things via:</p><pre><code>mvn clean deploy -Drevision=1.8.67-SNAPSHOT
</code></pre><p>The result in your repository will be having pom files which contain <code>${revision}</code> which is simply not correct and can cause other issues.</p><p>How to solve this problem? This can simply being achieved by using the <a target="_blank" rel="noopener" href="https://www.mojohaus.org/flatten-maven-plugin/">flatten-maven-plugin</a> and adding the following part to your pom file:</p><pre><code>&lt;build&gt;

  &lt;plugins&gt;

    &lt;plugin&gt;

      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;

      &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;

      &lt;version&gt;1.0.0&lt;/version&gt;

      &lt;configuration&gt;

        &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;

      &lt;/configuration&gt;

      &lt;executions&gt;

        &lt;execution&gt;

          &lt;id&gt;flatten&lt;/id&gt;

          &lt;phase&gt;process-resources&lt;/phase&gt;

          &lt;goals&gt;

            &lt;goal&gt;flatten&lt;/goal&gt;

          &lt;/goals&gt;

        &lt;/execution&gt;

        &lt;execution&gt;

          &lt;id&gt;flatten.clean&lt;/id&gt;

          &lt;phase&gt;clean&lt;/phase&gt;

          &lt;goals&gt;

            &lt;goal&gt;clean&lt;/goal&gt;

          &lt;/goals&gt;

        &lt;/execution&gt;

      &lt;/executions&gt;

    &lt;/plugin&gt;

  &lt;/plugins&gt;

&lt;/build&gt;
</code></pre><p>By using the above you can now simply do a deploy via:</p><pre><code>mvn clean deploy -Drevision=1.8.67-SNAPSHOT
</code></pre><p>and the resulting pom file within the repository will correctly contain the resolved version <code>1.8.67-SNASPHOT</code>.</p><p>This makes it easy to change the version from within a CI/CD tool. For example in Jenkins you can add a parameter like this:</p><pre><code>mvn clean package -Drevision=1.0-${BUILD_NUMBER}-SNAPSHOT
</code></pre><p>Or make more sophisticated combinations of the properties <code>${revision}</code>, <code>${sha1}</code> and <code>${changelist}</code>.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>In the end you are not able to completely ban the versions from your pom file but nearly 100% which means you do not need to repeat it in each of your parent entries in a multi module build.</p><p>Furthermore you have saved a lot of issues related to merge conflicts within branches in Maven builds caused by the different version number for the different branches, cause the version can simply being defined by the CI/CD solution or manually from command line.<br><a target="_blank" rel="noopener" href="https://blog.soebes.de/blog/2017/04/02/maven-pom-files-without-a-version-in-it/">https://blog.soebes.de/blog/2017/04/02/maven-pom-files-without-a-version-in-it/</a></p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: &nbsp; </i></span><span class="reprint-info"><a href="https://jlovec.net" rel="external nofollow noreferrer">Joey Wang</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: &nbsp; </i></span><span class="reprint-info"><a href="https://jlovec.net/2021/05/12/maven-pom-files-without-a-version-in-it-softwareentwicklung-beratung-schulung/">https://jlovec.net/2021/05/12/maven-pom-files-without-a-version-in-it-softwareentwicklung-beratung-schulung/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: &nbsp; </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="https://jlovec.net" target="_blank">Joey Wang</a> !</span></div></div><script async defer>function navToReprintStatement(){$("html, body").animate({scrollTop:$("#reprint-statement").offset().top-80},800)}document.addEventListener("copy",function(t){M.toast({html:'<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>'})})</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><span class="chip bg-color">无标签</span></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="qq,weibo,douban,google,wechat" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/reward/alipay.jpeg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/reward/wechat.jpeg" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/2021/06/12/kubernetes-shan-chu-namespace-hou-yi-zhi-chu-yu-terminating-zhuang-tai/"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/featureimages/0.jpg" class="responsive-img" alt="kubernetes 删除namespace 后一直处于Terminating状态"> <span class="card-title">kubernetes 删除namespace 后一直处于Terminating状态</span></div></a><div class="card-content article-content"><div class="summary block-with-text">出现无法删除的情况，是因为 kubelet 阻塞，有其他的资源在使用该 namespace，比如 CRD 等，尝试重启 kubelet，再删除该 namespace 也不好使。 在尝试以下命令强制删除也不好使： #!/usr/bin/env</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2021-06-12 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> Joey Wang</span></div></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2021/04/22/adding-a-static-route-to-macos/"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/medias/featureimages/7.jpg" class="responsive-img" alt="Adding a Static Route to macOS"> <span class="card-title">Adding a Static Route to macOS</span></div></a><div class="card-content article-content"><div class="summary block-with-text">Executed from Terminal sudo route -n add -net 10.0.0.0/8 x.x.x.x x.x.x.x is the IP address of the Cisco/Luxul switch wi</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2021-04-22 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> Joey Wang</span></div></div></div></div></div></article></div><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/codeBlock/codeBlockFuction.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/codeBlock/codeLang.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/codeBlock/codeCopy.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/codeBlock/codeShrink.js"></script><style type="text/css">code[class*=language-],pre[class*=language-]{white-space:pre!important}</style></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/tocbot/tocbot.min.js"></script><script>$(function(){tocbot.init({tocSelector:"#toc-content",contentSelector:"#articleContent",headingsOffset:-(.4*$(window).height()-45),collapseDepth:Number("0"),headingSelector:"h1, h2, h3, h4"});let t=0,e="toc-heading-",n=($("#toc-content a").each(function(){$(this).attr("href","#"+e+ ++t)}),t=0,$("#articleContent").children("h1, h2, h3, h4").each(function(){$(this).attr("id",e+ ++t)}),parseInt(.4*$(window).height()-64)),o=$(".toc-widget");$(window).scroll(function(){$(window).scrollTop()>n?o.addClass("toc-fixed"):o.removeClass("toc-fixed")});const i="expanded";let c=$("#toc-aside"),a=$("#main-content");$("#floating-toc-btn .btn-floating").click(function(){c.hasClass(i)?(c.removeClass(i).hide(),a.removeClass("l9")):(c.addClass(i).show(),a.addClass("l9"));{var t,n="prenext-posts";let e=$("#"+"artDetail");if(0!==e.length){let t=e.width();450<=t?t+=21:350<=t&&t<450?t+=18:300<=t&&t<350?t+=16:t+=14,$("#"+n).width(t)}return}})})</script></main><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Design by&nbsp;<a href="https://blog.csdn.net/z_johnny" target="_blank">Joey Wang</a> &nbsp|&nbsp&nbsp;Powered by&nbsp;<a href="https://github.com/hongweifuture/hexo-theme-halo" target="_blank">Halo</a> of <a href="https://hexo.io/" target="_blank">Hexo</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;总字数:&nbsp;<span class="white-color">24.2k</span>&nbsp;字 <span id="busuanzi_container_site_pv">|&nbsp;<i class="far fa-eye"></i>&nbsp;访问量:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;次 </span><span id="busuanzi_container_site_uv">|&nbsp;<i class="fas fa-users"></i>&nbsp;点击量:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;次</span><br>Copyright&nbsp;&copy; <span id="year">2020</span>&nbsp&nbsp| &nbsp;<a href="https://jlovec.net/sitemap.xml" target="_blank">Sitemap</a>&nbsp;&nbsp;|&nbsp; <span id="sitetime">载入运行时间...</span><script>function siteTime(){var e=36e5,t=24*e,o=new Date,n="2020",a=o.getFullYear(),r=o.getMonth()+1,i=o.getDate(),l=o.getHours(),M=o.getMinutes(),o=o.getSeconds(),g=Date.UTC(n,"11","20","0","0","0"),r=Date.UTC(a,r,i,l,M,o)-g,i=Math.floor(r/31536e6),l=Math.floor(r/t-365*i),M=Math.floor((r-(365*i+l)*t)/e),o=Math.floor((r-(365*i+l)*t-M*e)/6e4);Math.floor((r-(365*i+l)*t-M*e-6e4*o)/1e3);document.getElementById("year").innerHTML=n==a?a:n+" - "+a,document.getElementById("sitetime").innerHTML="本站已充电 "+i+" 年 "+l+" 天 "}setInterval(siteTime,1e3)</script><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/jlovec1024" class="tooltipped" target="_blank" data-toggle="tooltip" data-placement="top" title="访问我的GitHub"><i class="fab fa-github"></i> </a><a href="mailto:jlovec1024@163.com" class="tooltipped" target="_blank" data-toggle="tooltip" data-placement="top" title="邮件联系我"><i class="fas fa-envelope-open"></i> </a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=461285930" class="tooltipped" target="_blank" data-toggle="tooltip" data-placement="top" title="QQ 联系我: 461285930"><i class="fab fa-qq"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/js/search.js"></script><script type="text/javascript">$(function(){searchFunc("https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/materialize/materialize.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/masonry/masonry.pkgd.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/aos/aos.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/js/matery.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0],e=(t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",document.getElementsByTagName("script")[0]);e.parentNode.insertBefore(t,e)}()</script><script async src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/others/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/gh/jlovec1024/jlovec1024.github.io/libs/instantpage/instantpage.js" type="module"></script><script type="text/javascript">var st,OriginTitile=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="Jlovec",clearTimeout(st)):(document.title="Jlovec",st=setTimeout(function(){document.title=OriginTitile},3e3))})</script><div id="he-plugin-simple"></div><script>WIDGET={CONFIG:{modules:"01234",background:5,tmpColor:"FFFFFF",tmpSize:16,cityColor:"FFFFFF",citySize:"16",aqiSize:16,weatherIconSize:"20",alertIconSize:18,padding:"10px 10px 10px 10px",shadow:"0",language:"auto",fixed:"true",vertical:"top",horizontal:"right",right:10,top:"60",key:"2ccd90212a1d41dea248662765a0fb9c"}}</script><script src="https://widget.heweather.net/simple/static/js/he-simple-common.js?v=1.1"></script><script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script><script>const hasAttr=(e,t)=>t.some(t=>void 0!==e.attr(t));$("a").each(function(){const t=$(this);if(!hasAttr(t,["data-fancybox","ignore-external-link"])){const r=t.attr("href");var e;r&&r.match("^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)")&&(3<=(e=r.split("/")).length&&("jlovec.net"===e[2]&&!window.location.host||(t.attr("href","/go.html?u="+Base64.encode(r)).attr("rel","external nofollow noopener noreferrer"),t.attr("target","_blank"))))}})</script></body></html>